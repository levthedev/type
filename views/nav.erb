<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="google-signin-client_id" content="838257261894-qdr79vu4nhsobltvbn0tjf4erep63f7j.apps.googleusercontent.com">
    <title>Type</title>
    <link rel="stylesheet" href="/stylesheets/reset.css" type="text/css">
    <link rel="stylesheet" href="/stylesheets/nav.css" type="text/css">
    <script async src="/js/jquery.min.js" type="text/javascript"></script>
    <script async src="https://apis.google.com/js/platform.js" async defer></script>
    <script async type="text/javascript" src="https://js.stripe.com/v2/"></script>
    <script async type="text/javascript">
      Stripe.setPublishableKey('pk_test_wNSmUtnjPppeeG0wiWFGZIN4')
      var $form = $('#payment-form')

      function stripeResponseHandler(status, response) {
        if (response.error) {
          $form.find('.payment-errors').text(response.error.message)
          $form.find('.submit').prop('disabled', false)
        } else {
          var token = response.id
          $form.append($('<input type="hidden" name="stripeToken">').val(token))
          $form.get(0).submit()
        }
      }

      $(function() {
        $form.submit(function(event) {
          $form.find('.submit').prop('disabled', true)
          Stripe.card.createToken($form, stripeResponseHandler)
          return false
        })
      })
    </script>
    <script async>
      !function(){function c(){var a=b.createElement("script");
      a.src='https://resend.io/widget.js',a.async=!0,a.onload=function(){__init('RAczJQTEJ4Y3ZoTmg2Ymc9PQ==')},
      b.getElementsByTagName("head")[0].appendChild(a)}var a=window,b=document;
      a.attachEvent?a.attachEvent("onload",c):a.addEventListener("load",c,!1)}();
    </script>
  </head>
  <body>
    <nav class="navBar wrapper">
      <nav class="wrapper">
        <div class="logo"></div>
        <input type="checkbox" id="menu-toggle">
          <label for="menu-toggle" class="label-toggle"></label>
        </input>
        <ul>
          <a id="price-link" href="#"><li>Pricing</li></a>
          <a href="/app"><li>Login</li></a>
          <a href="/demo"><li>Demo</li></a>
        </ul>
      </nav>
    </nav>

    <div id='main'>
      <%= yield %>

      <div class="g-signin2" data-onsuccess="onSignIn"></div>
      <a href="#" onclick="signOut()">Sign out</a>
      <script>
        function signOut() {
          var auth2 = gapi.auth2.getAuthInstance()
          auth2.signOut().then(function() {
            console.log('User signed out.')
          })
        }
      </script>

      <form action="/your-charge-code" method="POST" id="payment-form">
      <span class="payment-errors"></span>

      <div class="form-row">
        <label>
          <span>Card Number</span>
          <input type="text" size="20" data-stripe="number">
        </label>
      </div>

      <div class="form-row">
        <label>
          <span>Expiration (MM/YY)</span>
          <input type="text" size="2" data-stripe="exp_month">
        </label>
        <span> / </span>
        <input type="text" size="2" data-stripe="exp_year">
      </div>

      <div class="form-row">
        <label>
          <span>CVC</span>
          <input type="text" size="4" data-stripe="cvc">
        </label>
      </div>

      <input type="submit" class="submit" value="Submit Payment">
    </form>
    </div>
  </body>
</html>
